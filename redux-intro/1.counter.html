<!Doctype html>
<html>
    <head>
        <title>Counter with redux</title>
    </head>

    <body>

        <script src="./redux.js"></script>

        <script>
            //create a store

            const { createStore, combineReducers } = Redux

            //count action
            // increment action creator

            const increment =() => {
                console.log('increment action')
                return{
                    type: 'INCREMENT'
                }
                
            }

            const decrement =() => {
                console.log('decrement action')
                return{
                    type: 'DECREMENT'
                }
                
            }

            const reset =() => {
                console.log('reset action')
                return{
                    type: 'RESET'
                }
                
            }

            const incrementBy = (n) =>{
                console.log('increment by action')
                return{
                    type: 'INCREMENT_BY',
                    payload: n
                }
            }


            //countReducer

            const countInitialState = 0
            const countReducer = (state = countInitialState,action) =>{
                if(action.type === 'INCREMENT'){
                    return state+1
                }else if(action.type === 'DECREMENT'){
                    return state-1
                }else if(action.type === 'RESET'){
                    return countInitialState
                }else if(action.type === 'INCREMENT_BY'){
                    return state + action.payload
                }else{
                    return state
                }
                

            }

            const store = createStore(combineReducers({
                count: countReducer
            }))
            console.log(store)
            console.log(store.getState())

            store.subscribe(() =>{
                console.log(store.getState())
            })

            store.dispatch(increment())
            store.dispatch(increment())

            store.dispatch(decrement())

            store.dispatch(reset())

            store.dispatch(incrementBy(10))



            // store.dispatch({
            //     type:'INCREMENT'
            // })

        </script>

    </body>
</html>